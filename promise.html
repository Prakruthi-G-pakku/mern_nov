<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewpoint" content="width=device-width, initial-scale=1.0">
        <title>promise</title>
    </head>
    <body>
        <script>
            //data fetching 
            function fecthdata(){
                return new Promise((resolve,reject)=>{
                    setTimeout(()=>{
                        const success=true;
                        if(success){
                            resolve("Fetched data successfully");
                        }else{
                            reject("Fialed to fetch data");
                        }
                    },1000);
                });
            }
            function processData(data){
                return new Promise((resolve,reject)=>{
                    setTimeout(()=>{
                        const processedData=data+ " and processed";  
                        resolve(processedData);
                    },1000);
                });
            }
            function savedata(processedData){
                return new Promise((resolve,reject)=>{
                    setTimeout(()=>{
                        const savedData=processedData+ " and saved";  
                        resolve(savedData);
                    },1000);
                });
            }

            async function handleData(){
                try{
                    const data=await fecthdata();
                    const processedData=await processData(data);
                    const result=await savedata(processedData);
                    console.log("data saved",result);
                }catch(error){
                    console.log("error: ",error);
                }
            }
            handleData();

            //user details promise 
            function getUser(){
                return new Promise((resolve,reject)=>{
                    setTimeout(()=>{
                        const arr=[{id:1,name:"john",age:25},{id:2,name:"emily",age:45}]
                        resolve(arr);
                    },5000);
                });
            }
            function getUserId(id){
                return new Promise((resolve,reject)=>{
                    setTimeout(()=>{
                        let id=1;
                        const arr1=[{id:1,name:"john",age:25}];
                        resolve(arr1);
                    },5000);
                });
            }
            async function handleId(){
                try{
                    const data=await getUser();
                    const idData=await getUserId(data);
                    console.log("users data",idData);
                }catch(error){
                    console.log("error: ",error);
                }
            }
            handleId();
        </script>
    </body>
</html>